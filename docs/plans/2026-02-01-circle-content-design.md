# 圆与圆周率互动内容设计

> 创建日期：2026-02-01
> 状态：设计中

## 概述

为 FunnyMath 添加两个关于"圆与圆周率"的互动内容：

1. **circle-basic（认识圆）** - 5-6年级，难度2
2. **circle-formulas（圆的公式与计算）** - 6-7年级，难度3

## 内容一：认识圆（circle-basic）

**目标年级：** 5-6年级
**难度：** 2
**积分：** 10

### 学习目标

1. 认识圆的组成（圆心、半径、直径、弦、弧）
2. 理解圆周率的意义
3. 了解圆与立体图形的关系
4. 通过测量验证周长与直径的比值

### 互动模块

#### 模块1：圆的组成

- 3D 圆形展示，高亮显示圆心、半径、直径
- 拖动滑块改变半径（0.5 - 5 单位）
- 实时显示：半径 = r，直径 = 2r
- 点击按钮显示/隐藏弦、弧

#### 模块2：圆周率可视化

- 用正多边形逼近圆的动画
- 滑块控制边数（3 - 50 边）
- 实时计算并显示：多边形周长 / 直径 ≈ ?
- 当边数增加时，比值趋近于 π

#### 模块3：圆与立体图形

- 展示圆柱、圆锥、球体
- 点击切换不同立体图形
- 高亮显示底面的圆
- 拖动旋转观察 3D 结构

#### 模块4：测量验证

- 随机生成不同大小的圆
- 虚拟尺子测量周长和直径
- 计算比值，验证 π ≈ 3.14

---

## 内容二：圆的公式与计算（circle-formulas）

**目标年级：** 6-7年级
**难度：** 3
**积分：** 15

### 学习目标

1. 理解圆面积公式的推导过程
2. 掌握周长与面积的计算公式
3. 能够解决逆向计算问题
4. 应用圆的知识解决比较问题

### 互动模块

#### 模块1：面积公式推导动画

- 将圆切割成 16/32/64 个扇形
- 动画展示扇形交错排列成近似长方形
- 高亮显示对应关系：
  - 长方形的长 ≈ 半圆周长 = πr
  - 长方形的宽 = 半径 = r
  - 面积 = πr × r = πr²
- 滑块控制切割数量，观察逼近效果

#### 模块2：周长与面积计算器

- 拖动滑块改变半径（0.5 - 10 单位）
- 实时显示：C = 2πr = ?，S = πr² = ?
- 3D 圆形同步缩放，直观感受大小变化
- 显示计算步骤

#### 模块3：逆向计算练习

- 随机出题：给定面积求半径、给定周长求直径等
- 输入答案，即时反馈
- 显示解答步骤
- 记录正确率

#### 模块4：面积比较挑战

- 圆与外接/内切正方形面积比较
- 大圆与小圆面积关系
- 花坛设计等实际应用问题
- 可视化对比 + 选择题形式

---

## 技术架构

### 组件结构

```
packages/content/src/contents/
├── circle/
│   ├── components/
│   │   ├── Circle3D.tsx              # 基础 3D 圆形组件
│   │   ├── PolygonApproximation.tsx  # 多边形逼近演示
│   │   ├── SolidFigures.tsx          # 圆与立体图形
│   │   ├── AreaDerivation.tsx        # 面积公式推导
│   │   ├── Calculator.tsx            # 计算器面板
│   │   └── QuizPanel.tsx             # 练习题面板
│   ├── circle-basic.tsx              # 认识圆主组件
│   │   └── circle-formulas.tsx       # 圆的公式主组件
```

### 共享组件

**Circle3D.tsx** - 可配置的 3D 圆形组件
- 半径动态调整
- 高亮显示（半径、直径、弦、弧）
- 不同材质和颜色
- 标注文字显示

### 3D 实现细节

- 使用 `RingGeometry` 绘制圆
- 使用 `CylinderGeometry` 绘制立体图形
- 使用 `LineLoop` 绘制多边形逼近效果
- 使用 `Text` 或 `Html` overlay 显示标注

---

## 测试计划

### 单元测试

- `Circle3D` 组件：半径变化触发重新渲染
- 多边形逼近：边数增加时周长比值趋近 π
- 计算器：输入半径输出正确的周长和面积
- 面积推导动画：切割数量正确计算

### 集成测试

- 模块切换后状态保持正确
- 完成所有模块后进度正确更新
- iOS App 和微信小程序都能正常显示

### 验收标准

- 基础版能在 10 分钟内完成所有探索
- 进阶版练习题正确率 > 80% 算通过
- 3D 渲染在低端设备上保持 30fps 以上
- 两个内容都集成到主页面内容列表中

---

## 更新内容注册表

两个内容需要添加到 `packages/content/src/index.ts` 的 `CONTENT_REGISTRY`：

```typescript
{
  id: 'circle-basic',
  title: '认识圆',
  grade: '5-6',
  difficulty: 2,
  component: CircleBasic,
  category: 'plane',
  learningObjectives: [
    '认识圆的组成（圆心、半径、直径）',
    '理解圆周率的意义',
    '了解圆与立体图形的关系',
    '通过测量验证圆周率'
  ]
},
{
  id: 'circle-formulas',
  title: '圆的公式与计算',
  grade: '6-7',
  difficulty: 3,
  component: CircleFormulas,
  category: 'plane',
  learningObjectives: [
    '理解圆面积公式的推导过程',
    '掌握周长与面积的计算公式',
    '能够解决逆向计算问题',
    '应用圆的知识解决比较问题'
  ]
}
```
